# osu-intercept
> *interception-tools* plugin that allows two physical keyboard keys to control two mutually-exclusive virtual keys.
## why
The plugin acts as a sort-of "Last Input" SOCD-cleaner on steroids. If the opposite key is pressed while one is held down, then it wins, *but* then when a key is released, it reverts back to the previous input, creating an extra key-press. Releasing the last key held releases the remaining virtual key, and resets the state back to the starting position. This promotes a sort of "rocking" or "wobbling" play pattern when fast key alternation is needed without interfering with single-key tapping. This can be particularly helpful in games requiring precise and rapid inputs, such as osu! or other rhythm-based titles.
## how
The tiny C99 plugin uses [interception-tools] (https://gitlab.com/interception/linux/tools), which grabs keyboards inputs from the kernel, but before they reach Xorg or Wayland. It monitors two physical keys and maps their presses and releases to two virtual keys accordingly. When a key is pressed, it triggers one virtual key; when another key is pressed while the first is held, it toggles to the other virtual key "radio button"-style. Then, when either key is released, the virtual keys toggle again, causing a key-release event to become both a key-press event and a key-release event. Releasing the last physical key simply releases whichever virtual key is currently 'pressed'. A bit hard to describe, but easy to pick up; and much better for osu!'s usually odd-numbered bursts and streams, compared to simply having every key-release be a key-press.
